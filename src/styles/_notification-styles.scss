/**
 * Global notification snackbar styles
 *
 * These styles must be global (not component-scoped) because Angular Material
 * snackbars render in the CDK overlay container outside any component DOM tree.
 * Component-scoped styles with ViewEncapsulation.Emulated cannot reach overlay elements.
 *
 * Used by:
 * - NotificationService (shared) — panelClass: success-snackbar, warning-snackbar, error-snackbar
 * - AppNotificationService (DFD) — panelClass: notification-success, notification-info, etc.
 *
 * !important is used on properties that override Material MDC's internal styles
 * (CSS variables, background-color, color on internal elements). Decorative properties
 * (box-shadow, border-radius, font-weight, etc.) rely on specificity instead.
 */

/* stylelint-disable no-descending-specificity */

// Success notifications (green theme)
.success-snackbar,
.notification-success {
  --mdc-snackbar-container-color: var(--color-success) !important;
  --mdc-snackbar-supporting-text-color: #fff !important;

  .mat-mdc-snack-bar-container {
    background-color: var(--color-success) !important;

    .mdc-snackbar__surface {
      background-color: var(--color-success) !important;
      color: #fff !important;
    }

    .mdc-snackbar__label {
      color: #fff !important;
    }

    .mat-mdc-snack-bar-action {
      .mat-mdc-button {
        color: #fff !important;

        &:hover {
          background-color: rgb(255 255 255 / 10%);
        }
      }
    }
  }
}

// Info notifications (blue theme)
.notification-info {
  --mdc-snackbar-container-color: var(--color-info) !important;
  --mdc-snackbar-supporting-text-color: #fff !important;

  .mat-mdc-snack-bar-container {
    background-color: var(--color-info) !important;

    .mdc-snackbar__surface {
      background-color: var(--color-info) !important;
      color: #fff !important;
    }

    .mdc-snackbar__label {
      color: #fff !important;
    }

    .mat-mdc-snack-bar-action {
      .mat-mdc-button {
        color: #fff !important;

        &:hover {
          background-color: rgb(255 255 255 / 10%);
        }
      }
    }
  }
}

// Warning notifications (orange theme)
.warning-snackbar,
.notification-warning {
  --mdc-snackbar-container-color: var(--color-warning) !important;
  --mdc-snackbar-supporting-text-color: #fff !important;

  .mat-mdc-snack-bar-container {
    background-color: var(--color-warning) !important;

    .mdc-snackbar__surface {
      background-color: var(--color-warning) !important;
      color: #fff !important;
    }

    .mdc-snackbar__label {
      color: #fff !important;
    }

    .mat-mdc-snack-bar-action {
      .mat-mdc-button {
        color: #fff !important;

        &:hover {
          background-color: rgb(255 255 255 / 10%);
        }
      }
    }
  }
}

// Error notifications (red theme)
.error-snackbar,
.notification-error {
  --mdc-snackbar-container-color: var(--color-error) !important;
  --mdc-snackbar-supporting-text-color: #fff !important;

  .mat-mdc-snack-bar-container {
    background-color: var(--color-error) !important;

    .mdc-snackbar__surface {
      background-color: var(--color-error) !important;
      color: #fff !important;
    }

    .mdc-snackbar__label {
      color: #fff !important;
    }

    .mat-mdc-snack-bar-action {
      .mat-mdc-button {
        color: #fff !important;

        &:hover {
          background-color: rgb(255 255 255 / 10%);
        }
      }
    }
  }
}

// Shared visual improvements for all notification types
.notification-success .mat-mdc-snack-bar-container .mdc-snackbar__surface,
.success-snackbar .mat-mdc-snack-bar-container .mdc-snackbar__surface,
.notification-info .mat-mdc-snack-bar-container .mdc-snackbar__surface,
.notification-warning .mat-mdc-snack-bar-container .mdc-snackbar__surface,
.warning-snackbar .mat-mdc-snack-bar-container .mdc-snackbar__surface,
.notification-error .mat-mdc-snack-bar-container .mdc-snackbar__surface,
.error-snackbar .mat-mdc-snack-bar-container .mdc-snackbar__surface {
  box-shadow: 0 4px 8px rgb(0 0 0 / 15%);
  border-radius: 8px;
  transition: all 0.3s ease-in-out;
}

.notification-success .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button,
.success-snackbar .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button,
.notification-info .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button,
.notification-warning .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button,
.warning-snackbar .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button,
.notification-error .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button,
.error-snackbar .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button {
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-radius: 8px;
  padding: 0 12px;
  min-width: 64px;
}

.notification-success .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button:focus,
.success-snackbar .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button:focus,
.notification-info .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button:focus,
.notification-warning .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button:focus,
.warning-snackbar .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button:focus,
.notification-error .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button:focus,
.error-snackbar .mat-mdc-snack-bar-container .mat-mdc-snack-bar-action .mat-mdc-button:focus {
  outline: 2px solid rgb(255 255 255 / 30%);
  outline-offset: 2px;
}

// Dark theme overrides
@media (prefers-color-scheme: dark) {
  .notification-success {
    --mdc-snackbar-container-color: var(--color-success-dark) !important;
  }

  .notification-info {
    --mdc-snackbar-container-color: var(--color-primary) !important;
  }

  .notification-warning {
    --mdc-snackbar-container-color: var(--color-warning-dark) !important;
  }

  .notification-error {
    --mdc-snackbar-container-color: var(--color-error-dark) !important;
  }
}

// Responsive positioning
@media (width <= 768px) {
  .notification-success,
  .success-snackbar,
  .notification-info,
  .notification-warning,
  .warning-snackbar,
  .notification-error,
  .error-snackbar {
    .mat-mdc-snack-bar-container {
      margin: 8px;
      max-width: calc(100vw - 16px);

      .mdc-snackbar__surface {
        border-radius: 8px;
      }
    }
  }
}

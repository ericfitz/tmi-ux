// Shape styles for DFD components
// These styles are used by the shape definitions

// Common label styles mixin for all shapes
@mixin shape-label-styles {
  fill: #333;
  font-size: 12px;
  font-family: 'Roboto Condensed', Arial, sans-serif;
  text-anchor: middle;
  dominant-baseline: middle;
  pointer-events: none;
}

// Actor shape styles
.actor-shape {
  fill: #fff;
  stroke: #333;
  stroke-width: 2;
  opacity: 1;
}

.actor-label {
  @include shape-label-styles;
}

// Process shape styles
.process-shape {
  fill: #fff;
  stroke: #333;
  stroke-width: 2;
  opacity: 1;
}

.process-label {
  @include shape-label-styles;
}

// Store shape styles
.store-shape {
  fill: #fff;
  stroke: transparent;
  opacity: 1;
}

.store-top-line,
.store-bottom-line {
  stroke: #333;
  stroke-width: 2;
}

.store-label {
  @include shape-label-styles;
}

// Security Boundary shape styles
.security-boundary-shape {
  fill: #fff;
  stroke: #333;
  stroke-width: 2;
  stroke-dasharray: 5, 5;
  rx: 10;
  ry: 10;
  opacity: 1;
}

.security-boundary-label {
  @include shape-label-styles;
}

// Textbox shape styles
.textbox-shape {
  fill: #fff;
  stroke: #333;
  stroke-width: 1;
  stroke-dasharray: 2, 2;
  opacity: 0.8;
  rx: 4;
  ry: 4;
}

.textbox-content {
  width: 100%;
  height: 100%;
  padding: 5px;
  box-sizing: border-box;
  font-size: 12px;
  color: #333;
  overflow: auto;
  word-wrap: break-word;
  text-align: left;
  font-family: 'Roboto Condensed', Arial, sans-serif;
}

// Generic dfd-label class used by all shapes
.dfd-label {
  @include shape-label-styles;
}

// More specific selectors to override inline styles
.x6-graph text.actor-label,
.x6-graph text.process-label,
.x6-graph text.store-label,
.x6-graph text.security-boundary-label,
.x6-graph text.dfd-label {
  font-family: 'Roboto Condensed', Arial, sans-serif;
}

// Target SVG text elements with font-family attribute
svg text[font-family] {
  font-family: 'Roboto Condensed', Arial, sans-serif;
}

// Port visibility rules
// 1. Ports are hidden by default (set in shape models)
// 2. Connected ports are always visible
.port-connected {
  visibility: visible;
}

// 3. All ports become visible on node hover
.x6-node:hover .x6-port-body {
  visibility: visible;
}

// Selected state
.selected-node {
  stroke: #47c769;
  stroke-width: 2.5;
}
